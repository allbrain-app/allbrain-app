:root {
  /* テーマカラー設定 */
  --bg-body: #f8f9fa;       
  --bg-card: #ffffff;       
  --text-main: #212529;     
  --text-sub: #6c757d;      
  --color-primary: #ff9800; 
  --color-accent: #03dac6;  
  --border-color: #dee2e6;  
  
  --chart-line: #ff9800;
}

body { 
  background-color: var(--bg-body); 
  color: var(--text-main); 
  font-family: "Helvetica Neue", Arial, sans-serif; 
  padding-bottom: 100px; 
}

.container { max-width: 600px; padding: 0 15px; }

/* ヘッダー周り */
h4 { color: var(--text-main) !important; font-weight: bold; }
#user-info { color: var(--text-sub) !important; }

/* タブ */
.nav-pills { margin-bottom: 20px; overflow-x: auto; white-space: nowrap; flex-wrap: nowrap; padding-bottom: 5px; }
.nav-link { 
  color: var(--text-sub); 
  background-color: var(--bg-card); 
  border: 1px solid var(--border-color); 
  border-radius: 20px; 
  padding: 8px 16px; 
  font-size: 0.9rem; 
  margin-right: 8px;
}
.nav-link.active { 
  background-color: var(--color-primary); 
  color: #fff; 
  border-color: var(--color-primary); 
  font-weight: bold;
}

/* 商品カード */
.card { 
  background-color: var(--bg-card); 
  border: 1px solid var(--border-color); 
  margin-bottom: 15px; 
  border-radius: 12px; 
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
.card-body-custom { display: flex; align-items: center; padding: 12px; gap: 12px; }
.img-area { width: 80px; height: 80px; flex-shrink: 0; border-radius: 8px; overflow: hidden; background-color: #eee; }
.img-area img { width: 100%; height: 100%; object-fit: cover; }
.text-area { flex-grow: 1; min-width: 0; }
.item-name { color: var(--text-main); font-weight: bold; font-size: 1rem; }
.item-flavor { font-size: 0.75rem; color: var(--text-sub); margin-top: 2px; }
.item-price { color: var(--text-main); font-size: 1.1em; font-weight: bold; margin-top: 4px; }

/* ボタン */
.btn-add { 
  background-color: var(--color-primary); 
  color: #fff; 
  border: none; 
  font-weight: bold; 
  border-radius: 20px; 
  padding: 6px 20px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.btn-secondary { background-color: #e9ecef; color: #adb5bd; border: none; border-radius: 20px; }

/* カートバー */
.cart-bar { 
  position: fixed; bottom: 0; left: 0; width: 100%; 
  background-color: #fff; 
  padding: 15px 20px; 
  border-top: 1px solid var(--border-color); 
  box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
  z-index: 1000; display: none; 
}
#cart-total { color: var(--text-main) !important; font-weight: bold; font-size: 1.2rem; }

/* モーダル */
.modal-content { background-color: #fff; color: var(--text-main); border-radius: 15px; }
.modal-header { border-bottom: 1px solid var(--border-color); }
.modal-footer { border-top: 1px solid var(--border-color); }
.btn-close { filter: none; }

/* ▼▼▼ 修正: 右上ボタンを固定表示(fixed)に変更 ▼▼▼ */
.history-btn-container { 
  position: fixed; /* absolute から fixed に変更 */
  top: 15px; 
  right: 15px; 
  z-index: 900; /* カートバー(1000)より下、コンテンツより上 */
}

.btn-mypage, .btn-history {
  background-color: #fff; color: var(--text-main);
  border: 1px solid var(--border-color);
  border-radius: 20px; padding: 5px 12px; font-size: 0.8rem;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

/* オプション選択 */
.option-group { margin-bottom: 15px; text-align: left; }
.option-label { font-weight: bold; font-size: 0.9rem; margin-bottom: 5px; display: block;}
.form-check-label { color: var(--text-main); }

/* ローディング */
.loading-overlay {
  background-color: rgba(255, 255, 255, 0.9);
}
.loading-text { color: var(--color-primary); }
.loading-spinner { border-color: #eee; border-top-color: var(--color-primary); }
